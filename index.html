<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">

    <title></title>

    <script type="text/javascript" src="components/bindr.js"></script>
    <script type="text/javascript" src="components/commandr.js"></script>
    <script type="text/javascript" src="components/is.js"></script>
    <script type="text/javascript" src="components/should.js"></script>
    <script type="text/javascript" src="components/htmlBuilder.js"></script>
    <script type="text/javascript" src="components/container.js"></script>

    <script type="text/javascript" src="app/app.js"></script>
    <script type="text/javascript" src="components/controllersFeature.js"></script>
    <script type="text/javascript" src="components/modelViewsFeature.js"></script>
    <script type="text/javascript" src="app/bitwise/calc.js"></script>
    <script type="text/javascript" src="app/bitwise/expression.js"></script>
    <script type="text/javascript" src="app/bitwise/formatter.js"></script>

    <script type="text/javascript" src="app/models.js"></script>
    <script type="text/javascript" src="app/views.js"></script>

    <script type="text/javascript" src="app/dispatcher.js"></script>
    <script type="text/javascript" src="app/services.js"></script>
    <script type="text/javascript" src="app/controllers.js"></script>
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
</head>
<body id="rootView">

<h2>Bitwise Operations Visualised</h2>
<input id="in" type="text" class="expressionInput" data-controller="expressionInputCtrl" placeholder="type expression like '1>>2' or 'help' for the "/>

<div id="output" data-controller="resultView">
</div>

<script type="text/javascript">

    (function(){
        var app = window.app;
        var dispatcher = app.get('dispatcher');

        dispatcher.command('help', function() {
            var commands = [
                { name: '1>>2', description: 'Displays result of expression'},
                { name: 'help', description: 'Displays help'},
                { name: 'clear', description: 'Clears console'}
            ];

            return new app.models.HelpResult(commands);
        });

        dispatcher.command({
           $expression:null,
           canHandle: function(input) { return this.$expression.canParse(input); },
           handle: function(input) {
               return this.$expression.parse(input);
           }
        });

        app.bootstrap(document.getElementById('rootView'));

    })();

</script>

</body>
</html>